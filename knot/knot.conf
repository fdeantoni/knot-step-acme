server:
  rundir: "/run/knot"
  user: knot:knot
  automatic-acl: on
  listen: 10.0.0.10@53
  listen: 127.0.0.1@53
  listen: ::@53

# autogenerated key section

acl:
  - id: "cm-acl"
    key: "cm-key"
    action: [ update, transfer ]

remote:
  - id: upstream
    address: [1.1.1.1, 9.9.9.9]

mod-dnsproxy:
  - id: fwd
    remote: upstream
    fallback: on
    catch-nxdomain: on

log:
  - target: stdout
    any: debug

database:
  storage: "/var/lib/knot"

template:
  - id: default
    storage: "/var/lib/knot"
    file: "%s.zone"
    semantic-checks: on
    global-module: mod-dnsproxy/fwd

zone:
  - domain: test
    file: test.zone
    template: default
    acl: [ "cm-acl" ]
